{
  "id": "Test_Experiment_1",
  "description": "Just a TPCH Test Experiment",
  "gym_version": 1,
  "timesteps": 16000,
  "database": "tpch_1_lhr",
  "random_seed": 60,
  "parallel_environments": 1,
  "pickle_cost_estimation_caches": false,
  "action_manager": "MultiColumnIndexActionManager",
  "observation_manager": "SingleColumnIndexPlanEmbeddingObservationManagerWithCost",
  "reward_calculator": "RelativeDifferenceRelativeToStorageReward",
  "max_steps_per_episode": 200,
  "validation_frequency": 1000,
  "filter_utilized_columns": false,
  "max_index_width": 3,
  "reenable_indexes": false,
  "result_path": "experiment_results",
  "workload_embedder": {
    "type": "PlanEmbedderLSIBOW",
    "representation_size": 50
  },
  "rl_algorithm": {
    "algorithm": "PPO2",
    "stable_baselines_version": 2,
    "gamma": 0.5,
    "policy": "MlpPolicy",
    "model_architecture": {
      "net_arch": [
        {
          "vf": [256,256],
          "pi": [256,256]
        }
      ]
    },
    "args": {
      "n_steps": 64
    }
  },
  "workload": {
    "benchmark": "TPCH",
    "path": "./experiment_results/workloads/gen_tpch/train_workloads1.pickle",
    "scale_factor": 1,
    "size": 14,
    "varying_frequencies": true,
    "training_instances": 10000,
    "validation_testing": {
      "number_of_workloads": 10,
      "unknown_query_probabilities": [0.0]
    },
    "similar_workloads": false,
    "excluded_query_classes": [2,17,20],
    "unknown_queries": 0
  },
  "comparison_algorithms": ["extend"],
  "budgets": {
    "training": false,
    "validation_and_testing": [500, 1000, 1500, 2500, 3500, 5000, 6500, 8000, 10000]
  },
  "column_filters": {
    "TableNumRowsFilter": 10000
  },
  "materialized_views": {
    "enabled": true,
    "max_count": 5,
    "observation_manager_type": "basic",
    "reward_calculator_type": "basic",
    "reward_config": {
      "index_reward_weight": 0.5,
      "mv_reward_weight": 0.5,
      "storage_penalty": 0.01,
      "synergy_weight": 0.1,
      "performance_weight": 1.0,
      "reward_scale": 100.0
    },
    "templates": [
      {
        "name": "mv_customer_orders",
        "sql": "SELECT c_custkey, c_name, COUNT(o_orderkey) as order_count FROM customer c JOIN orders o ON c.c_custkey = o.o_custkey GROUP BY c_custkey, c_name",
        "estimated_size": 1048576
      },
      {
        "name": "mv_supplier_parts",
        "sql": "SELECT s_suppkey, s_name, COUNT(ps_partkey) as part_count FROM supplier s JOIN partsupp ps ON s.s_suppkey = ps.ps_suppkey GROUP BY s_suppkey, s_name",
        "estimated_size": 1048576
      },
      {
        "name": "mv_lineitem_summary",
        "sql": "SELECT l_orderkey, l_partkey, SUM(l_quantity) as total_quantity, SUM(l_extendedprice) as total_price FROM lineitem GROUP BY l_orderkey, l_partkey",
        "estimated_size": 2097152
      }
    ],
    "rewrite_mappings": {
      "SELECT c_custkey, c_name FROM customer WHERE c_custkey = 1": "SELECT c_custkey, c_name FROM mv_customer_orders WHERE c_custkey = 1"
    }
  },
  "use_action_masking": true
}
